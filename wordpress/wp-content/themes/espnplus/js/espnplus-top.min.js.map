{"version":3,"sources":["espnplus-top.js"],"names":["jQuery","$","console","log","placeholder","carousel","reEvaluate","window","width","closeMobileMenu","removeClass","fixedHeader","didScroll","lastScrollTop","delta","navbarHeight","outerHeight","hideHeader","css","is","hasClass","on","scroll","setInterval","scrollPosition","this","scrollTop","addClass","Math","abs","hasScrolled","navigationResizeCalculate","before","$navItemMore","$navItems","navItemWidth","windowWidth","parent","each","show","hide","last","prependTo","splice","navigationResize","unbind","toggleClass","document","ready","socialShareURL","socialShareURL_suffix","parentElement","text","event","preventDefault","append","remove","attr","click","location","pathname","replace","hostname","target","hash","length","slice","animate","offset","top","twitter","facebook","linkedin","networkName","split","pop","shareURL","encodeURI","href","encodeURIComponent","open","anchor","find","first","hover","onresize"],"mappings":"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","file":"espnplus-top.min.js","sourcesContent":["jQuery(function($) {\n  console.log('espnplus bottom.js loaded');\n\n  $('input, textarea').placeholder();                                           // load placeholder.js library  for IE9 placeholder text support\n  $('.global--customer-testimonial').carousel();                                // enable bootstrap carousel on a specific target\n\n  // anchor bar reconstruction functionality\n  var reEvaluate = $(window).width();                                           // store page width on load\n\n  // helper function: close mobile menu\n  function closeMobileMenu() {\n    $('#js-hamburger').removeClass('is-active');                                // animate burger icon closed\n    $('#js--features-flyout-block').removeClass('is-active');                   // close submenu\n    $('#js-header--navigation').removeClass('is-active');                       // close main menu\n    $('body').removeClass('no-scroll');                                         // hide overlay\n    $('#js-header--navigation .flip-arrow').removeClass('flip-arrow');          // reset flipped arrow icon\n  }\n\n  // features flyout menu (aka 'mega-menu')\n  var flyoutMenu = function() {\n    $('#js-header--navigation--desktop').on('click', '> li:first-of-type > a', function() {\n      if ($('#js-hamburger' ).is(':visible')) {                                 // if we're on tablet (we can see the burger)\n        $(this).toggleClass('flip-arrow');\n        $('#js--features-flyout-block').toggleClass('is-active');               // active class only initializes on tablet\n      }\n      if ($(this).text() == 'Features') {                                       // don't stop the link on the LP\n        return false;\n      }\n    });\n  };\n\n  // mobile menu behavior\n  var mobileMenu = function() {\n    // toggle menu via hamburger\n    $('#js-hamburger').on('click', function (event) {\n      event.preventDefault();\n      $(this).toggleClass('is-active');                                         // toggle active state on burger icon\n      $('#js-header--navigation').toggleClass('is-active');                     // toggle active class on main menu list\n      $('#js--features-flyout-block').removeClass('is-active');                 // reset submenu on main menu close\n\n      if( $(this).hasClass('is-active') ) {\n        $('body').addClass('no-scroll');\n        $('body').append( $('<span class=\"no-scroll__overlay\"></span>') );\n      } else {\n        $('body').removeClass('no-scroll');\n        $('#js-header--navigation .flip-arrow').removeClass('flip-arrow');\n        $('.no-scroll__overlay').remove();\n      }\n    });\n\n    // toggle menu (closed) by overlay\n    $('.no-scroll__overlay').on('click', function () {\n      // close/hide menu\n      closeMobileMenu();\n\n      return false;\n    });\n  };\n\n  // fixed header on scroll                                                     // source: https://medium.com/@mariusc23/hide-header-on-scroll-down-show-on-scroll-up-67bbaae9a78c\n  var fixedHeader = function() {\n    var didScroll;\n    var lastScrollTop = 0;\n    var delta = 25;\n    var navbarHeight = $('#js-fixed-top').outerHeight();\n\n    $(window).on('resize', function() {\n      navbarHeight = $('#js-fixed-top').outerHeight();\n      if ($('#js-fixed-top').hasClass('fixed')) {\n        $('body').css('padding-top', navbarHeight);\n      }\n    });\n\n    $(window).scroll( function() {\n      didScroll = true;\n    });\n\n    // set an interval timer to avoid constantly firing\n    setInterval(function () {\n      if (didScroll) {\n        hasScrolled();\n        didScroll = false;\n      }\n    }, 50);\n\n    function hideHeader() {\n      // remove stuck class\n      $('#js-fixed-top').removeClass('fixed');\n      $('body').css('padding-top', 0);\n\n      // close mobile menu\n      if ($('#js-hamburger').is(':visible') && $('#js-hamburger').hasClass('is-active')) {\n        closeMobileMenu();\n      }\n    }\n\n    function hasScrolled() {\n      var scrollPosition = $(this).scrollTop();\n\n      if (scrollPosition < navbarHeight) {                                      // if we're above the header\n        hideHeader();\n        $('#js-fixed-top').removeClass('can-fix');\n      } else {\n        $('#js-fixed-top').addClass('can-fix');\n\n        // make sure they scroll more than delta\n        if (Math.abs(lastScrollTop - scrollPosition) <= delta)\n          return;\n      }\n\n      // toggle sticky class\n      if (scrollPosition > lastScrollTop) {                                     // scrolling down\n        hideHeader();\n      } else {                                                                  // scrolling up\n        // add sticky class\n        $('#js-fixed-top').addClass('fixed');\n        $('body').css('padding-top', navbarHeight);\n      }\n      lastScrollTop = scrollPosition;\n    }\n  };\n\n  // enable accordions\n  function accordionEnable() {\n    // set the first faq card to be open on load\n    $('.global--accordion .card:first-child .card--header a').attr('aria-expanded', 'true');\n  }\n\n  function navigationResizeCalculate() {\n    $('#nav li.global--anchor-bar--items_dropdown').before($('#overflow > li'));\n\n    var $navItemMore = $('#nav > li.global--anchor-bar--items_dropdown'),\n        $navItems = $('#nav > li:not(.global--anchor-bar--items_dropdown)'),\n        navItemWidth = $navItemMore.width(),\n        windowWidth = $('#nav').parent('nav').width(),\n        navItemMoreLeft, offset, navOverflowWidth;\n\n    $navItems.each(function () {\n      navItemWidth += $(this).width();\n    });\n\n    navItemWidth > windowWidth ? $navItemMore.show() : $navItemMore.hide();\n\n    while (navItemWidth > windowWidth) {\n      navItemWidth -= $navItems.last().width();\n      $navItems.last().prependTo('#overflow');\n      $navItems.splice( -1, 1 );\n    }\n\n    if (reEvaluate < 768) {                                                     // do a media check based off the width of the main content div\n      $('.global--anchor-bar--items_dropdown-content').css('width', reEvaluate);// apply content width to the overflow UL\n    }\n  }\n\n  // anchor bar trigger; runs on load and on browser resize\n  function navigationResize() {\n\n    // if the page width we have saved is a different with to the real page\n    if( reEvaluate != $(window).width() ){\n      // reset var\n      reEvaluate = $(window).width();\n\n      // recalculate jump bar\n      navigationResizeCalculate(true);\n    }\n\n    // click functionality to open and clost dropdown menu\n    $('li.global--anchor-bar--items_dropdown').unbind().on('click', function(){\n      $('li.global--anchor-bar--items_dropdown').toggleClass('reveal');\n    });\n  }\n\n  // animate page scroll on click                                               // source: https://css-tricks.com/snippets/jquery/smooth-scrolling/\n  var smoothScroll = function() {\n    var scrollOffset = 105;                                                     // amount to scroll above element (normally space for sticky header)\n\n    $('.js-smoothScroll').click(function() {\n      if (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\n        var target = $(this.hash);\n        target = target.length ? target : $('[name=' + this.hash.slice(1) +']');\n\n        if (target.length) {\n          $('html, body').animate({\n            scrollTop: (target.offset().top - scrollOffset)\n          }, 1000);\n\n          if ($('#js-hamburger').is(':visible')) {\n            closeMobileMenu();\n          }\n\n          return false;\n        }\n      }\n    });\n  }\n\n  // share a page via a social network\n  var socialShare = function() {\n\n    var socialShareURL = {\n      twitter:  'https://twitter.com/intent/tweet?url=',\n      facebook: 'http://www.facebook.com/sharer/sharer.php?s=100&p[url]=',\n      linkedin: 'http://www.linkedin.com/shareArticle?mini=true&url='\n    };\n\n    var socialShareURL_suffix = {\n      twitter:  '&text=',\n      linkedin: '&title='\n    };\n\n    $('.js-socialShare').on('click', function() {\n      var networkName = $(this).attr('id').split('-').pop();\n\n      if ( networkName != '' && socialShareURL[ networkName ] ) {\n          // create share URL, using socialShareURL array, and window.location.href\n          var shareURL = socialShareURL[ networkName ] + encodeURI( window.location.href );\n          // if this network expects a page title, append it to shareURL\n          if ( socialShareURL_suffix[ networkName ] ) {\n              shareURL += socialShareURL_suffix[ networkName ] + encodeURIComponent($('head title').text());\n          }\n          // open new window with generated share URL\n          window.open(shareURL, '', 'width=626,height=436');\n      }\n\n      return false;\n    });\n  }\n\n  // listing (careers) child anchor click on parent element\n  var listingParent = function() {\n    var parentElement = $('section.careers article.listing-block--item');\n\n    $(parentElement).on('click', function() {\n      var anchor = $(this).find('header h1 > a').first();\n      // console.log('section clicked!')\n      // console.log(anchor)\n\n      // when the user clicks anywhere on the section, it will redirect based off the anchor within\n      window.location.href = anchor.attr('href');\n    });​\n  }\n\n  // adds the hover event (mouseover/mouseout) to carousels in case it does not exist\n  var carouselHover = function() {\n    $('.carousel[data-pause=\"hover\"]').hover(\n      function(){\n        $(this).carousel('pause');\n      },\n      function(){\n        $(this).carousel('cycle');\n      }\n    );\n  };\n\n  // execute the following functions when the DOM returns the 'DOMContentLoaded' status (render tree built)\n  $(document).ready(function() {\n    closeMobileMenu();                                                          // usage: mobile menu closing behavior\n    flyoutMenu();                                                               // usage: flyout menu in header\n    mobileMenu();                                                               // usage: toggle mobile menu, and burger icon\n    fixedHeader()                                                               // usage: fixed header bar behavior\n    accordionEnable();                                                          // usage: enable accordion suppor\n    navigationResizeCalculate();                                                // usage: anchor bar browser resize calculations\n    navigationResize();                                                         // usage: anchor bar navigation on resize\n    smoothScroll();                                                             // usage: smooth scroll to element\n    socialShare();                                                              // usage: blog posts\n    listingParent();                                                            // usage: careers listing page\n    carouselHover();                                                            // usage: adds mouse events to carousels\n\n    window.onresize = navigationResize;                                         // when the browser is resized, execute the function\n  });\n});"]}