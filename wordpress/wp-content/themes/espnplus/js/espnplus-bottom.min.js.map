{"version":3,"sources":["espnplus-bottom.js"],"names":["jQuery","$","ALanguage","LangCode","Ex_cid","s_omni","Util","getQueryParam","write_s_code","s_code","t","document","write","ctaDays","str","l","result","split","length","pageName","server","window","location","hostname","products","contextData","getNewRepeat","ASport","ALeague","getVisitNum","getDaysSinceLastVisit","cookieRead","unid","getData","data","on","preventDefault","catDays","this","html","r","s_gi","s_account","linkTrackVars","linkTrackEvents","tl","e","attr","href"],"mappings":"AAAAA,OAAA,SAAAC,GAIA,IAAAC,EAAA,MAAAC,SAAA,KAAA,QACAC,EAAAC,OAAAC,KAAAC,cAAA,UA+BA,SAAAC,IACA,IAAAC,EAAAJ,OAAAK,IACAD,GACAE,SAAAC,MAAAH,GAkEA,SAAAI,EAAAC,EAAAC,GACA,OAAAA,GACA,IAAA,KAGA,OADAC,EADAF,EAAAG,MAAA,QACA,GAAAA,MAAA,MACA,GAGA,QACA,IACAD,EACA,OADAA,EADAF,EAAAG,MAAA,KACA,GAAAA,MAAA,MACAD,EAAAE,OAAA,IA5GAb,OAAAc,SAAA,6BACAd,OAAAe,OAAAC,OAAAC,SAAAC,SAGAlB,OAAAmB,SAAA,gCAGAnB,OAAAoB,YAAA,QAAA,WACApB,OAAAoB,YAAA,YAAA,UACApB,OAAAoB,YAAA,YAAArB,EACAC,OAAAoB,YAAA,aAAA,MACApB,OAAAoB,YAAA,KAAA,WACApB,OAAAoB,YAAA,iBAAA,UACApB,OAAAoB,YAAA,KAAAvB,EACAG,OAAAoB,YAAA,YAAApB,OAAAqB,aAAA,GAAA,kBACArB,OAAAoB,YAAA,MAAAE,OACAtB,OAAAoB,YAAA,OAAAG,QACAvB,OAAAoB,YAAA,QAAAvB,EACAG,OAAAoB,YAAA,kBAAApB,OAAAwB,cACAxB,OAAAoB,YAAA,UAAApB,OAAAyB,sBAAA,UACAzB,OAAAoB,YAAA,UAAA,qBACApB,OAAAoB,YAAA,KAAApB,OAAAC,KAAAyB,WAAA,QACA1B,OAAAoB,YAAA,KAAApB,OAAAC,KAAAyB,WAAA,SAEA1B,OAAAoB,YAAA,MAAApB,OAAAoB,YAAA,OACApB,OAAAoB,YAAA,KAAApB,OAAAoB,YAAA,OAWApB,OAAAoB,YAAA,MAAA,oBAAAO,MAAAA,KACAA,KAAAC,QAAA,SAAAC,GACA7B,OAAAoB,YAAA,KAAAS,EAAAF,MAEA3B,OAAAoB,YAAA,MAAApB,OAAAoB,YAAA,OACApB,OAAAoB,YAAA,KAAApB,OAAAoB,YAAA,MAGAjB,MAIAA,IAIAP,EAAA,eAAAkC,GAAA,QAAA,SAAAzB,GAEAA,EAAA0B,iBACA,IAAAC,EAAAxB,EAAAZ,EAAAqC,MAAAC,OAAArC,GAEA,IACA,IAAAsC,EAAAC,KAAAC,WACAF,EAAAG,cAAA,wJACAH,EAAAI,gBAAA,GACAJ,EAAAf,YAAA,QAAAvB,EACAsC,EAAAf,YAAA,KAAA,WACAe,EAAAf,YAAA,OAAA,oBAAAY,EAAA,KACAG,EAAAf,YAAA,eAAA,UACAe,EAAAf,YAAA,YAAA,oBACAe,EAAAhB,SAAA,gCAEAgB,EAAAK,GAAAP,KAAA,IAAA,oBAAAD,EAAA,MACA,MAAA3B,IACA,IAAAoC,EAAA7C,EAAAqC,MAAAS,KAAA,QAEA1B,OAAAC,SAAA0B,KAAAF,EAAA,WAAA1C,IAGAH,EAAA,kBAAAkC,GAAA,QAAA,SAAAzB,GAEAA,EAAA0B,iBACA,IAAAC,EAAAxB,EAAAZ,EAAAqC,MAAAC,OAAArC,GAEA,IACA,IAAAsC,EAAAC,KAAAC,WACAF,EAAAG,cAAA,wJACAH,EAAAI,gBAAA,GACAJ,EAAAf,YAAA,QAAAvB,EACAsC,EAAAf,YAAA,KAAA,WACAe,EAAAf,YAAA,OAAA,oBAAAY,EAAA,KACAG,EAAAf,YAAA,eAAA,UACAe,EAAAf,YAAA,YAAA,oBACAe,EAAAhB,SAAA,gCAEAgB,EAAAK,GAAAP,KAAA,IAAA,oBAAAD,EAAA,MACA,MAAA3B,IACA,IAAAoC,EAAA7C,EAAAqC,MAAAS,KAAA,QACA1B,OAAAC,SAAA0B,KAAAF,EAAA,WAAA1C","file":"espnplus-bottom.min.js","sourcesContent":["jQuery(function($) {\n    //console.log('espnplus bottom.js loaded');\n   \n    /*find current language*/\n    var ALanguage = (LangCode=='es')? \"es\":\"en-us\";\n    var Ex_cid = s_omni.Util.getQueryParam(\"ex_cid\");\n\n    /* Configuration Variables */\n    s_omni.pageName=\"espnplus:marketing:paywall\";\n    s_omni.server=window.location.hostname;\n\n    /* Conversion Variables */\n    s_omni.products=\"D2C;8400199910209919951899000\";\n\n    /* Context Variables */\n    s_omni.contextData[\"section\"] = \"espnplus\";\n    s_omni.contextData[\"contenttype\"] = \"paywall\";\n    s_omni.contextData[\"externalmkt\"] = Ex_cid; \n    s_omni.contextData[\"paywallshown\"] = \"yes\";\n    s_omni.contextData[\"site\"] = \"espnplus\";\n    s_omni.contextData[\"registrationtype\"] = \"unknown\";\n    s_omni.contextData[\"lang\"] = ALanguage;\n    s_omni.contextData[\"visitortype\"] = s_omni.getNewRepeat(30, \"s_getNewRepeat\");\n    s_omni.contextData[\"sport\"] = ASport;\n    s_omni.contextData[\"league\"] = ALeague;\n    s_omni.contextData[\"edition\"] = ALanguage;\n    s_omni.contextData[\"paywallvisitcount\"] = s_omni.getVisitNum();\n    s_omni.contextData[\"lastvisit\"] = s_omni.getDaysSinceLastVisit(\"s_last\");\n    s_omni.contextData[\"navmethod\"] = \"external marketing\";\n    s_omni.contextData[\"unid\"] = s_omni.Util.cookieRead(\"UNID\");\n    s_omni.contextData[\"swid\"] = s_omni.Util.cookieRead(\"SWID\");\n\n    if(!s_omni.contextData[\"swid\"] && s_omni.contextData[\"unid\"]){\n        s_omni.contextData[\"swid\"] = s_omni.contextData[\"unid\"];\n    }\n\n    function write_s_code(){\n        var s_code=s_omni.t();\n        if(s_code){ \n            document.write(s_code);\n        }\n    }\n\n    /* Get UNID Value */\n    if(!s_omni.contextData[\"unid\"] && (typeof unid != \"undefined\") && unid){\n        unid.getData(function(data){\n            s_omni.contextData[\"unid\"] = data.unid;\n\n            if(!s_omni.contextData[\"swid\"] && s_omni.contextData[\"unid\"]){\n            s_omni.contextData[\"swid\"] = s_omni.contextData[\"unid\"];\n            }\n\n            write_s_code();\n        });\n    } \n    else{\n        write_s_code();\n    }\n\n     /* Clicks on header CTA */\n     $(\"#header_cta\").on(\"click\", function(t) {\n            \n        t.preventDefault();\n        var catDays = ctaDays($(this).html(),ALanguage);\n         \n        try {\n            var r = s_gi(s_account);\n            r.linkTrackVars = \"products,contextData.edition,contextData.site,contextData.linkid,contextData.purchasemethod,contextData.buylocation,contextData.unid,contextData.swid\";\n            r.linkTrackEvents = \"\";\n            r.contextData[\"edition\"] = ALanguage;\n            r.contextData[\"site\"] = \"espnplus\";\n            r.contextData[\"linkid\"] = \"buy:espn+monthly:\"+catDays+\"ft\";\n            r.contextData[\"purchasemethod\"] = \"bamtech\";\n            r.contextData[\"buylocation\"] = \"espn+:paywall:buy\";\n            r.products=\"D2C;8400199910209919951899000\";\n\n            r.tl(this, \"o\", \"buy:espn+monthly:\"+catDays+\"ft\");\n        } catch (t) {}\n        var e = $(this).attr(\"href\");\n        \n        window.location.href = e+'?ex_cid='+Ex_cid;\n    });\n    /* Clicks on spotlight CTA */\n    $(\"#spotlight_cta\").on(\"click\", function(t) {\n        \n        t.preventDefault();\n        var catDays = ctaDays($(this).html(),ALanguage);\n\n        try {\n            var r = s_gi(s_account);\n            r.linkTrackVars = \"products,contextData.edition,contextData.site,contextData.linkid,contextData.purchasemethod,contextData.buylocation,contextData.unid,contextData.swid\";\n            r.linkTrackEvents = \"\";\n            r.contextData[\"edition\"] = ALanguage;\n            r.contextData[\"site\"] = \"espnplus\";\n            r.contextData[\"linkid\"] = \"buy:espn+monthly:\"+catDays+\"ft\";\n            r.contextData[\"purchasemethod\"] = \"bamtech\";\n            r.contextData[\"buylocation\"] = \"espn+:paywall:buy\";\n            r.products=\"D2C;8400199910209919951899000\";\n\n            r.tl(this, \"o\", \"buy:espn+monthly:\"+catDays+\"ft\");\n        } catch (t) {}\n        var e = $(this).attr(\"href\");\n        window.location.href = e+'?ex_cid='+Ex_cid;\n    });\n\n    function ctaDays(str,l){\n        switch(l){\n            case \"es\": \n                var s1 = str.split(\" de \");\n                var result = s1[1].split(\" \");\n                return result[0];\n                break;\n\n            default:\n                var s1 = str.split(\"-\");\n                var result = s1[0].split(\" \");\n                return result[result.length-1];\n                break;\n        }\n    }\n\n    function getParameterByName(name, url) {\n        if (!url) url = window.location.href;\n        name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n        var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n            results = regex.exec(url);\n        if (!results) return null;\n        if (!results[2]) return '';\n        return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n    }\n\n}); //jquery()"]}